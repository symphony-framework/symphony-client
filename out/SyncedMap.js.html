<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: SyncedMap.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: SyncedMap.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import History from "./History.js";

/**
 * @classdesc The SyncedMap is a shared type that is similar to the JavaScript Map.
 * @hideconstructor
 */

class SyncedMap {
  // values is private
  #values;

  constructor(ydoc, name) {
    this.#values = ydoc.getMap(name);
  }

  /** Removes the specified entry from the SyncedMap by key. Returns true if the entry existed and has been removed, or false if it did not exist.*/
  delete(key) {
    this.#values.delete(key);
  }

  /** Returns a new Iterator object of [key, value] pairs for each entry in the SyncedMap.*/ 
  entries() {
    return this.#values.entries();
  }

  /** Calls the provided function once for each [key, value] pair of the SyncedMap.*/
  forEach(callback) {
    this.#values.forEach(callback);
  }

  /** Returns a specified entry from the SyncedMap.*/
  get(key) {
    return this.#values.get(key);
  }

  /** Returns a Boolean indicating whether the SyncedMap contains an entry with the specified key or not.*/
  has(key) {
    return !!this.get(key);
  }

  /** Returns a new Iterator object containing the keys for each entry in the SyncedMap.*/
  keys() {
    return this.#values.keys();
  }

  /** Adds or updates an entry in the SyncedMap with a specified key and a value.*/
  set(key, value) {
    this.#values.set(key, value);
  }

  /** Returns the number of elements in the SyncedMap.*/
  size() {
    return this.#values.size;
  }

  /** Returns a new Iterator object that contains the the #values for each entry in the SyncedMap.*/
  values() {
    return this.#values.values();
  }

  /** Removes all elements from the SyncedMap.*/
  clear() {
    this.#values.clear();
  }
  
  // yjs
  /** Returns a JSON representation of the SyncedMap.*/
  toJSON() {
    return this.#values.toJSON();
  }

  /** Returns a new History object that can be used to undo/redo the current client's changes.*/
  newHistory(captureTimeout=0) {
    return new History(this.#values, captureTimeout);
  }

  /** Returns a new SyncedMap with the same #values as the caller.*/
  copy() {
    return this.#values.clone();
  }

  observe(callback) {
    this.#values.observe(callback);
  }

  unobserve(callback) {
    this.#values.unobserve(callback);
  }
}

export default SyncedMap;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="History.html">History</a></li><li><a href="Room.html">Room</a></li><li><a href="SymphonyClient.html">SymphonyClient</a></li><li><a href="SyncedList.html">SyncedList</a></li><li><a href="SyncedMap.html">SyncedMap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Thu Apr 06 2023 13:25:34 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
